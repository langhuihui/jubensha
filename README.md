# 以斯帖记剧本杀游戏

基于圣经以斯帖记故事的多人在线剧本杀游戏，使用 Vue 3 + TypeScript + Vite 开发，专门为移动端优化。

## 🎮 游戏特色

- **经典故事**：以圣经以斯帖记为背景，体验王后以斯帖拯救犹太人的惊险历程
- **多人互动**：支持 4-6 人同时游戏，实时同步游戏状态
- **移动端优化**：专为手机和平板设备设计，支持触摸操作
- **精美UI**：采用 Vant UI 组件库，提供流畅的用户体验
- **游戏流程**：包含角色介绍、宫廷生活、危机降临、王后抉择、御前宴会、最终审判等完整阶段

## 🏛️ 游戏角色

- **以斯帖**：波斯王后，美丽的犹太少女，善良而勇敢
- **薛西斯王**：波斯帝国之王，威严而多疑
- **哈曼**：帝国宰相，权势滔天，对犹太人怀有仇恨
- **末底改**：以斯帖的堂兄，虔诚的犹太人，有正义感
- **瓦实提**：废黜的王后，美丽而高傲
- **撒迦利亚**：宫廷太监长，了解宫廷内部运作

## 🚀 技术栈

### 前端
- **Vue 3** - 渐进式 JavaScript 框架
- **TypeScript** - JavaScript 的超集，提供静态类型
- **Vite** - 快速的前端构建工具
- **Vant 4** - 移动端 Vue 组件库
- **Pinia** - Vue 的状态管理库
- **Vue Router** - Vue.js 的官方路由
- **Sass** - CSS 预处理器

### 后端
- **Node.js** - JavaScript 运行环境
- **WebSocket** - 实时双向通信协议
- **Express** - Node.js Web 应用框架

### SDK
- **jubensha-sdk** - 剧本杀游戏开发工具包（已发布到 npm）

## 📱 移动端适配

- 响应式设计，支持各种屏幕尺寸
- 触摸友好的交互设计
- 防止双击缩放，优化移动端体验
- 自适应字体大小和布局
- 流畅的动画和过渡效果

## 🛠️ 安装和运行

### 环境要求

- Node.js >= 18.0.0
- npm 或 pnpm

### 安装依赖

```bash
# 使用 npm
npm install

# 或使用 pnpm
pnpm install
```

### 开发模式

```bash
# 同时启动前端和后端服务器
npm run dev:full

# 或分别启动
npm run server  # 启动后端服务器 (端口: 8080)
npm run dev     # 启动前端开发服务器 (端口: 3000)
```

### 构建生产版本

```bash
npm run build
```

### 预览生产版本

```bash
npm run preview
```

## 🎯 游戏流程

### 1. 房间创建和加入
- 创建游戏房间或加入现有房间
- 设置房间密码（可选）
- 等待其他玩家加入

### 2. 游戏阶段

#### 角色介绍阶段
- 阅读自己的角色背景和目标
- 了解其他角色的基本情况

#### 宫廷生活阶段
- 探索波斯皇宫，寻找线索
- 与其他角色互动，收集信息

#### 危机降临阶段
- 哈曼的阴谋开始显现
- 犹太人面临巨大的危险

#### 王后抉择阶段
- 以斯帖需要做出重大决定
- 选择是否冒险面见国王

#### 御前宴会阶段
- 关键的对决时刻
- 在国王面前揭露真相

#### 最终审判阶段
- 投票决定游戏结果
- 揭示最终的角色真相

## 📁 项目结构

```
esther-jubensha-game/
├── src/
│   ├── components/          # Vue 组件
│   │   └── game/           # 游戏相关组件
│   ├── data/              # 游戏数据
│   │   ├── esther-script.ts # 以斯帖记剧本数据
│   │   └── game-config.ts   # 游戏配置
│   ├── services/          # 服务层
│   │   └── game-service.ts  # 游戏服务，集成SDK
│   ├── stores/            # Pinia 状态管理
│   │   └── game.ts          # 游戏状态
│   ├── styles/            # 样式文件
│   │   ├── global.scss      # 全局样式
│   │   ├── mobile.scss      # 移动端样式
│   │   └── variables.scss   # SCSS 变量
│   ├── types/              # TypeScript 类型定义
│   ├── views/              # 页面组件
│   ├── App.vue            # 根组件
│   ├── main.ts            # 应用入口
│   └── router/            # 路由配置
├── server/                # 后端服务器
│   └── index.js           # WebSocket 服务器
├── public/                # 静态资源
├── dist/                  # 构建输出
└── README.md
```

## 🎮 游戏特色功能

### 实时多人同步
- 基于 WebSocket 的实时通信
- 自动处理断线重连
- 房间状态实时同步

### 游戏状态管理
- 完整的游戏流程控制
- 阶段自动切换
- 线索发现和投票系统

### 移动端优化
- 响应式布局设计
- 触摸手势支持
- 性能优化和资源懒加载

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 📄 许可证

MIT License

## 🙏 致谢

- 基于圣经以斯帖记的故事改编
- 使用 jubensha-sdk 作为游戏开发框架
- 感谢所有开源项目的贡献者